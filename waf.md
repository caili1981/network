# waf 和 app-fw 的异同:
  ## 相同点：
    1.  都需要协议分析, 内容检测.
  
  ## 不同点:
    1.  waf侧重安全。 appfw相比waf侧重流分类。
    2.  app-fw是网关，保护/分流整个网络。waf：nginx做完反向代理之后，转发给waf，waf扫描然后发送给http-server. 返回客户端的报文无需经过waf。
    3.  app-fw 可以作为一个公司的出口，监控和保护所有进出公司的流量。waf一般只保护server.
    
    
# waf 和 utm的异同:
  ## 相同
    1.  都能保护http. 
    2.  都能扫描http的 body内容。
    3.  都能扫描url. 
  ## 不同:
    1.  utm一般作为出口，保护整个公司, waf作为入口保护server.
    2.  功能不同. utm不仅仅能扫描http，还能扫描smtp，pop3等. waf只保护http，而且功能比utm复杂。
    3.  utm现在只能扫描url和附件(html也是一种附件). 但是waf，能扫描更全面的内容. 包括http的首部，协议头等等. 
    
# utm的局限性
    1.  扫描压缩文件层数有限。
    2.  文本/html/脚本扫描极其缓慢.
    3.  为避免过多消耗，大文件无法扫描.
    4.  作为一个网关产品，性能和扩展上存在不足.
    5.  严重依赖第三方的扫描引擎。
    6.  绕过的utm的方式很多种多样。比如，将下载文件加密，等下载完再解密。这样exe文件可以轻松绕过utm防火墙.
    7.  病毒库扫描，并无智能概念，始终被动防御，需要非常巨大的攻击追踪成本。
    
  
    
  
