现代的网络接入技术分为三类：
  1.  二层准入。
      只有通过链路层认证的用户，可以接入网络。如802.1x／eap等等。只有二层准入之后，用户才能获得ip地址。目前家用的无线网络一般采取这种方式。
  2.  三层准入。
      二层链路直接准入，并可以直接通过dhcp获得三层地址。但是在客户访问外部网络时，重定向http进行认证，以达到网络认证的目的。
      一般在接入三层之前，会将用户放置于特殊的vlan（不信任）内，通过vlan进行报文的隔离，而且次vlan的三层网关只允许少量的协议报文（如dhcp，dns）等报文
      通过。
      目前很多酒店会采取这种方式。
      由于采用用户名密码的方式，安全性非常弱。
  3.  客户端方式。
      二层三层的加强版。不仅可以认证，而且扫描用户主机以检查安全性。
      公司一般采取这种方式。
  4.  虚拟桌面的方式。
      rdp.vnc等接入方式，当下在云里面应用广泛。
      
      
      
安全的网络通道：
  1.  ssl    （四层vpn）
      端到端。http常采用这种方式。简单，灵活，配置简单，可以用于精细化管理。tls是ssl基础上发明的，tls1.0=ssl3.0.
      ssl工作在tcp层之上，应用层之下，不存在nat穿越问题。
      ssl即便被攻破也只会暴露一个ip端口。
      ssl的公钥秘钥启示只有在协商对称密钥时才能用到，一旦对成密钥协商完成之后，就会使用对成密钥进行通信：
      http://blog.csdn.net/dfsaggsd/article/details/50910999
      ssl可以分为：
        a). 零客户端，日常使用的https就是使用这种模式。
        b). 瘦客户端，需要下载一个java applet，所有用户的tcp流量，都通过java applet进行分装。（应用层加密）
        c). 隧道模式，和ip-sec类似。隧道模式和ip-sec一样，在三层就进行分装加密。此种模式可以支持大部分的业务流量。
  2.  ip－sec （三层vpn，需要nat穿越）
      站点到站点，对所有报文通过ip－sec－vpn进行加密。ip-sec一般被用于公司的分部和总部之间通信。
      ip－sec是构建在ip层之上，tcp／udp层之下，需要辅助与nat穿越才能在网上部署。
      ip－sec一旦被攻破，整个内部网络都会被暴露在攻击之下。
   
解决网络结构变化(如服务器司机，搬迁等)的手段：
  1.  dns
      可以职能dns来找出最优最近的服务器地址。
      缺点：
        a.  被动性：拓扑改变时，需要一定的传播时间,在cache失效之前，可能存在一定时间的网络不可达。
        b.  一般只适用于web网络，对于非web网络可能就无能为力。
  2.  健康路由注入
      一般放置在负载均衡设备，或者出口路由器上，这些设备可以周期性的探测服务的可达性，并将信息以路由协议的方式扩散出去。如anycast时，一个服务器故障，
      与此设备相邻的出口路由器可以探测到，并将此服务器的ip地址从任意波移除。
      
  3.  lisp（位置/身份分离协议）
      
支持虚拟化数据中心的扩张
  1.  大二层的概念
      一个非常大的二层网络。如果没有mstp而只有stp，则可能造成某些接口被stp协议禁用，造成投资的浪费。如果有mstp协议，同样也会造成网络的复杂。
      无论是否采用mstp，都会造成mac表过大。
  2.  三层终结二层，将整个大二层网络切割成几个小型二层网络。
      由于虚拟机的迁移只能在同一个二层网络下进行（加入迁移的是两个数据中心，那么数据中心的ip地址端很可能都采用10.1.1.0/24，没法路由），有可能造成虚拟机迁移失败。
      https://www.zhihu.com/question/22907100
  3.  Fabric path
      Fabric-path是思科的一种私有路由协议。
      Fabric的主要思想是引入一个Fabric-head的报文头，以此替代mac头。并通过isis协议，发布fabric地址，形成可聚合可快速收敛的二层路由查找系统。
      同时fabric－path的交换机一般只存储本地网络的mac，这就使得mac地址表大大减少。
      Fabric-path采用ttl的方式，以替代stp协议，同时通过isis的等价路由方式，实现不同路径上的负载均衡，而不像stp一样，只能走一条路。
  4.  trill (几乎就是Fabric path的翻版)
  5.  SPB (shortest path bridge).
      
      
       
        
  
     
      
